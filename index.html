<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html" charset="utf-8"/>

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/>
<!--<meta property="og:url" content="http://lakeheadbedbug.duckdns.org" />-->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"/>

<link rel="stylesheet" href="css/style.css"/>
<link rel="manifest" href="manifest.json"/>
<title>A Super Bug Zapper 3D Game</title>
<script src="common/webgl-debug.js" charset="utf-8"></script>
<script src="common/webgl-utils.js" charset="utf-8"></script>
<script src="tdl/base.js"></script>
</head>
<body>
<div class="body">
<div id="fpsContainer">
  <div class="fpsInner">
    <div id="fullscreen"></div>
    <div class="fps">fps: <span id="fps"></span></div>
    </div>
    <div><br> <br></div><div id="lightb">
    <button id="lightb">Toggle<i class="fas fa-lightbulb"></i></button>
  </div>
</div>

<div id="b"><a href="http://lakeheadbedbug.duckdns.org"><i class="fa fa-bug"></i> Bug Zapp3D-'<i>with a vengnece!!'</i></a> <i class="fa fa-bug"></i> lakeheadbedbug.duckdns.org <i class="fa fa-bug"></i></div>
<div id="gameData">
  <div class="gameInner">
    <div id="fullscreen"></div>
    <div class="game">Game Stat:  Current Value <span id="game"></span></div>
    <div> <br> ---------------------------<br> </div>
    <div class="gamescore"><i class="fas fa-gamepad"></i> Score:  <b><span id="gamescore"></span></b></div>
    <div> <br> <br> </div>
    <div class="bugsdead"><i class="fa fa-bug"></i> Bugs Killed:  <b><span id="bugsdead"></span></b></div>
    <div> <br> <br> </div>
    <div class="bugsgroup">Active Bug Groups:  <b><span id="bugsgroup"></span></b></div>
    <div> <br> <br> </div>
    <div class="bugstotal">Total Active Bugs:  <b><span id="bugstotal"></span></b></div>
    <div> <br><br> </div>
    <div class="bugspawn"><i class="fa fa-bug"></i> Bugs Spawned:  <b><span id="bugspawn"></span></b></div>
    <div> <br><br> </div>
    <div class="stime"><i class="fa fa-clock"></i> Time:  <b><span id="stime"></span></b></div>
    <div> <br><br> </div>
    <div class="smessage"><i class="fa fa-magnet"></i> !!:  <b><span id="smessage"></span></b></div>
    <div> <br><br> </div>
    <button id="flipvert"><i class="fas fa-arrow-alt-circle-up fa-3x"></i></button>
    <div> <br><br> </div>
    <button id="fliphord"><i class="fas fa-arrow-alt-circle-left fa-3x"></i></button>
    <button id="fliphor"><i class="fas fa-arrow-alt-circle-right fa-3x"></i></button>
    <div> <br><br> </div>
    <button id="flipvertd"><i class="fas fa-arrow-alt-circle-down fa-3x"></i></button>
    <div> <br><br> </div>
    <button id="stopdisk"> <i class="fas fa-stop-circle fa-3x"></i> </button>   
    <div> <br><br> </div>
    <div> <br> click and hold arrows <br>
    to move sphere <br> </div>
  </div>
</div>
<div id="stage">
<div id="viewContainer">
        <canvas id="c" width="1280" height="600"></canvas>
        <canvas id="p" width="1280" height="600"></canvas>
    </div>
  </div>
</div>

<!-- The SVG overlay showing clip space 
<svg
  style='width:100%; height:100%; position:absolute; top:0; left:0;'
  version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  x="0px" y="0px"
	viewBox="0 0 500 500" enable-background="new 0 0 500 500" xml:space="preserve" preserveAspectRatio="none">
  
	<g>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,25.5 249.5,25.5 249.5,0.5 274,0.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,50.5 249.5,50.5 249.5,25.5 262,25.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,75.5 249.5,75.5 249.5,50.5 262,50.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,100.5 249.5,100.5 249.5,75.5 262,75.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="274,125.5 249.5,125.5 249.5,100.5 262,100.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,150.5 249.5,150.5 249.5,125.5 274,125.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,175.5 249.5,175.5 249.5,150.5 262,150.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,200.5 249.5,200.5 249.5,175.5 262,175.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,225.5 249.5,225.5 249.5,200.5 262,200.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="274,250.5 249.5,250.5 249.5,225.5 262,225.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,275.5 249.5,275.5 249.5,250.5 274,250.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,300.5 249.5,300.5 249.5,275.5 262,275.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,325.5 249.5,325.5 249.5,300.5 262,300.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,350.5 249.5,350.5 249.5,325.5 262,325.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="274,375.5 249.5,375.5 249.5,350.5 262,350.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,400.5 249.5,400.5 249.5,375.5 274,375.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,425.5 249.5,425.5 249.5,400.5 262,400.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,450.5 249.5,450.5 249.5,425.5 262,425.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="262,475.5 249.5,475.5 249.5,450.5 262,450.5"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="274,499.5 249.5,499.5 249.5,475.5 262,475.5"/>
	</g>
	<g>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="24.5,238 24.5,250.5 0.5,250.5 0.5,226"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="49.5,238 49.5,250.5 24.5,250.5 24.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="74.5,238 74.5,250.5 49.5,250.5 49.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="99.5,238 99.5,250.5 74.5,250.5 74.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="124.5,226 124.5,250.5 99.5,250.5 99.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="149.5,238 149.5,250.5 124.5,250.5 124.5,226"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="174.5,238 174.5,250.5 149.5,250.5 149.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="199.5,238 199.5,250.5 174.5,250.5 174.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="224.5,238 224.5,250.5 199.5,250.5 199.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="249.5,226 249.5,250.5 224.5,250.5 224.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="274.5,238 274.5,250.5 249.5,250.5 249.5,226"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="299.5,238 299.5,250.5 274.5,250.5 274.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="324.5,238 324.5,250.5 299.5,250.5 299.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="349.5,238 349.5,250.5 324.5,250.5 324.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="374.5,226 374.5,250.5 349.5,250.5 349.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="399.5,238 399.5,250.5 374.5,250.5 374.5,226"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="424.5,238 424.5,250.5 399.5,250.5 399.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="449.5,238 449.5,250.5 424.5,250.5 424.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="474.5,238 474.5,250.5 449.5,250.5 449.5,238"/>
		<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="499.5,226 499.5,250.5 474.5,250.5 474.5,238"/>
	</g>
</svg>

<svg
  style='width:100%; height:100%; position:absolute; top:0; left:0;'
  version="1.1" xmlns="http://www.w3.org/2000/svg"
  width="100%" height="100%">  

	<text x="49%" y="2.95%" text-anchor="end" font-family="'Courier New'" font-size="16" font-weight="bold">+Y</text>
	<text x="49%" y="97.6%" text-anchor="end" font-family="'Courier New'" font-size="16" font-weight="bold">-Y</text>
	<text x="1.5%" y="53.55%" font-family="'Courier New'" font-size="16" font-weight="bold">-X</text>
	<text x="95.61%" y="53.55%" font-family="'Courier New'" font-size="16" font-weight="bold">+X</text>
	<text x="75%" y="42.92%" text-anchor="end" font-family="'Courier New'" font-size="11">+0.5</text>
	<text x="100%" y="42.92%" text-anchor="end" font-family="'Courier New'" font-size="11">+1.0</text>
	<text x="56.49%" y="1.68%" font-family="'Courier New'" font-size="11">+1.0</text>
	<text x="25.24%" y="42.92%" font-family="'Courier New'" font-size="11">-0.5</text>
	<text x="1.07%" y="42.92%" font-family="'Courier New'" font-size="11">-1.0</text>
	<text x="56.49%" y="25.48%" font-family="'Courier New'" font-size="11">+0.5</text>
	<text x="56.49%" y="75.48%" font-family="'Courier New'" font-size="11">-0.5</text>
	<text x="56.49%" y="99.48%" font-family="'Courier New'" font-size="11">-1.0</text>
</svg>-->

<!--WEBGL shaders
    // an attribute will receive data from a buffer
    // fragment shaders don't have a default precision so we need
    to pick one. mediump is a good default
    // look up where the vertex data needs to go.
    var positionAttributeLocation = gl.getAttribLocation(program, "a_position");
    var brightnessAttributeLocation = gl.getAttribLocation(program, "a_brightness");
    -->
<script id="vs" type="notjs">
  uniform mat4 u_worldViewProjection;
  uniform vec3 u_lightWorldPos;
  uniform mat4 u_world;
  uniform mat4 u_viewInverse;
  uniform mat4 u_worldInverseTranspose;

  attribute vec4 a_position;
  attribute vec3 a_normal;
  attribute vec2 a_texcoord;

  varying vec4 v_position;
  varying vec2 v_texCoord;
  varying vec3 v_normal;
  varying vec3 v_surfaceToLight;
  varying vec3 v_surfaceToView;

  void main() {
    v_texCoord = a_texcoord;
    v_position = (u_worldViewProjection * a_position);
    v_normal = (u_worldInverseTranspose * vec4(a_normal, 0)).xyz;
    v_surfaceToLight = u_lightWorldPos - (u_world * a_position).xyz;
    v_surfaceToView = (u_viewInverse[3] - (u_world * a_position)).xyz;
    gl_Position = v_position;
  }
</script>

<script id="fs" type="notjs">
  precision mediump float;

  varying vec4 v_position;
  varying vec2 v_texCoord;
  varying vec3 v_normal;
  varying vec3 v_surfaceToLight;
  varying vec3 v_surfaceToView;

  uniform vec4 u_lightColor;
  uniform vec4 u_diffuseMult;
  uniform sampler2D u_diffuse;
  uniform vec4 u_specular;
  uniform float u_shininess;
  uniform float u_specularFactor;

  vec4 lit(float l ,float h, float m) {
    return vec4(1.0, abs(l), (l > 0.0) ? pow(max(0.0, h), m) : 0.0, 1.0);
  }
  /*varying vec4 v_color;
  uniform vec4 u_colorMult;
  uniform vec4 u_colorOffset; 
  */
  void main() {
    vec4 diffuseColor = texture2D(u_diffuse, v_texCoord) * u_diffuseMult;
    vec3 a_normal = normalize(v_normal);
    vec3 surfaceToLight = normalize(v_surfaceToLight);
    vec3 surfaceToView = normalize(v_surfaceToView);
    vec3 halfVector = normalize(surfaceToLight + surfaceToView);
    vec4 litR = lit(dot(a_normal, surfaceToLight),
                      dot(a_normal, halfVector), u_shininess);
    vec4 outColor = vec4((u_lightColor * (diffuseColor * litR.y +
          u_specular * litR.z * u_specularFactor)).rgb, diffuseColor.a);
    gl_FragColor = outColor;
  }
</script>

<script id="shader-fs" type="x-shader/x-fragment">
    #ifdef GL_ES
		precision highp float;
		#endif
    void main(void) {
      gl_FragColor = vec4(0.6, 0.6, 1.0, 1.0);
    }
</script>

<script id="shader-vs" type="x-shader/x-vertex">
  attribute vec3 vertexPosition;
  uniform mat4 modelViewMatrix;
  uniform mat4 perspectiveMatrix;

  void main(void) {
  		gl_Position = perspectiveMatrix * modelViewMatrix * vec4(  vertexPosition, 1.0);
  }
  </script>

<!---<script src="twgl/twgl-full.js"></script>-->
<script src="3rdparty/chroma.min.js"></script>
<script src="tdl/fps.js"></script>
<script src="tdl/fast.js"></script>
<script src="node_modules/twgl.js/dist/4.x/twgl-full.js"></script>
    <!--
    @license twgl.js Copyright (c) 2015, Gregg Tavares All Rights Reserved.
    Available via the MIT license. see: http://github.com/greggman/twgl.js for details    -->
<script src="particle.js"></script>
<script src="index.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>

</body>

</html>